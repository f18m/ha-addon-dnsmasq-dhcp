<!DOCTYPE html>
<html>
<head>
    <title>DHCP Clients</title>

    <!-- add jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>

    <!-- add datatables.net library + responsive extension, see
         https://datatables.net/download/ -->
    <link href="https://cdn.datatables.net/v/dt/dt-2.1.8/r-3.0.3/datatables.min.css" rel="stylesheet">
    <script src="https://cdn.datatables.net/v/dt/dt-2.1.8/r-3.0.3/datatables.min.js"></script>

    <!-- add the IP-address-sorting plugin -->
    <script src="https://cdn.datatables.net/plug-ins/2.1.8/sorting/ip-address.js"></script>

 
    <!-- for some reason referencing an external CSS does not work, so CSS definitions are embedded: -->
    <style>
        {{ .CssFileContent }}
    </style>

    <script type="text/javascript">
        // these variables are rendered by the UI backend when serving this file to the client
        // and that's why they might be highlighted as invalid Javascript syntax
        var templated_dhcpPoolSize = {{ .DhcpPoolSize }}
        var templated_webSocketURI = {{ .WebSocketURI }}
        var templated_dhcpServerStartTime = {{ .DHCPServerStartTime }}

        {{ .JavascriptFileContent }}
    </script>
</head>
<body>
    <h1 class="topLevel">DHCP Clients</h1>

    <p class="topLevel" id="addon_cfg">
        The configured DHCP range is: <span class="monoText">{{ .DhcpStartIP }} - {{ .DhcpEndIP }}</span>.<br/>
        The default lease time is <span class="monoText">{{ .DefaultLease }}</span>.<br/>
        The lease time for IP address reservations is <span class="monoText">{{ .AddressReservationLease }}</span>.<br/>
    </p>
    <p class="topLevel" id="message"></p>

    <div class="container">
        <div class="tabs">
          <div class="tabs__pills">
            <button class="btn active" data-id="current_clients">Current DHCP Clients</button>
            <button class="btn" data-id="past_clients">Past DHCP Clients</button>
          </div>
    
          <div class="tabs__panels">
            <div id="current_clients" class="active">
                            
                <!-- the Datatables.net table will be attached to this TABLE element -->
                <table id="current_table" class="display" width="100%"></table>

                <p><span class="boldText">Notes:</span></p>
                <ul>
                    <li>The 'Hostname' column is populated with the hostname advertised by the DHCP client.
                        An asterisk * in the 'Hostname' column indicates that the DHCP client did not advertise his own hostname to
                        the DHCP server.</li>
                    <li>The 'Friendly Name' column is populated using the <span class="monoText">dhcp_clients_friendly_names</span>
                        addon configuration.</li>
                    <li>The 'IP Address' column might contain IP addresses located outside the DHCP range in the case 
                        the DHCP client has a special IP reservation assigned via the 
                        <span class="monoText">ip_address_reservations</span> addon configuration.</li>
                    <li>The 'Expires' column contains the count down to the next DHCP lease renewal formatted as 
                        <span class="monoText">HH:MM:SS</span>.</li>
                </ul>
            </div>
            <div id="past_clients">
                
                <!-- the Datatables.net table will be attached to this TABLE element -->
                <table id="past_table" class="display" width="100%"></table>

            </div>
          </div>
        </div>
    </div>
</body>
</html>